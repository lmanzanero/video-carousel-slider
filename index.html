<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Carousel Slider</title>
    <link rel="js" href="/main.js">
    <link rel="stylesheet" href="style.css">
 </head>
<body>
    <div class="container">
        <div id="arrow-left" class="arrow"></div>
        <div class="main-img">
            <video id="current" width="400" controls>
                <source src="How To Learn Faster.mp4" poster="https://preview.ibb.co/gxVppG/img1.jpg"  type="video/mp4"> 
            </video>  
            <div class="main-img-content">
              <h3 id="title">10 Morning Routine Habits of Successful People</h3>
              <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
              <button class="button">Learn more</button>
            </div>
        </div>
      
        <div class="imgs">  
          <video width="400" src="How To Learn Faster.mp4" poster="https://preview.ibb.co/gxVppG/img1.jpg" title="10 Morning Routine Habits of Successful People" type="video/mp4"> 
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis tenetur at ipsa nam culpa natus, neque voluptas. Explicabo deserunt alias, voluptatum, earum vero tempore officiis autem debitis itaque totam odio?</p>
          </video> 
          <video width="400" src="How To Learn Faster.mp4" title="How genetics and environment work together to shape our destiny Milena Georgieva at TEDxAUBG"  poster="https://preview.ibb.co/bSWjOb/img7.jpg" type="video/mp4">
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis tenetur at ipsa nam culpa natus, neque voluptas. Explicabo deserunt alias, voluptatum, earum vero tempore officiis autem debitis itaque totam odio?</p>
          </video> 
          <video width="400" src="How To Learn Faster.mp4" poster="https://preview.ibb.co/iQsPOb/img3.jpg" title="How To Learn Faster" type="video/mp4"> 
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis tenetur at ipsa nam culpa natus, neque voluptas. Explicabo deserunt alias, voluptatum, earum vero tempore officiis autem debitis itaque totam odio?</p>
          </video> 
          <video width="400" src="How To Learn Faster.mp4"  poster="https://preview.ibb.co/hS5ppG/img5.jpg"  title="This is a random Video" type="video/mp4"> 
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Perspiciatis tenetur at ipsa nam culpa natus, neque voluptas. Explicabo deserunt alias, voluptatum, earum vero tempore officiis autem debitis itaque totam odio?</p>
          </video> 
        </div>
        <div id="arrow-right" class="arrow"></div>
      </div> 
      <script>
      
      const current = document.querySelector("#current"); 
      const imgTitle = document.querySelector("#title");
      const imgContent = document.querySelector("#content");
      const leftButton = document.querySelector('#arrow-left');
      const rightButton = document.querySelector('#arrow-right');
      const imgs = document.querySelectorAll(".imgs video");
      const opacity = 0.4;
    
    // Set first img opacity
    imgs[0].style.opacity = opacity;
    let currentImg = 0;

    function leftArrow(){
      if(currentImg === 0){
        currentImg = imgs.length;  
      }
      current.src = imgs[currentImg - 1].src;
      imgTitle.innerHTML = imgs[currentImg - 1].title; 
      imgContent.innerHTML = imgs[currentImg - 1].textContent; 
      imgs.forEach(img => (img.style.opacity = 1));
      imgs[currentImg - 1 ].style.opacity = opacity; 
      current.classList.add("fade-in");
      
    currentImg --;
    }

    function rightArrow(){ 
      if(currentImg === imgs.length - 1){
         currentImg = - 1; 
      }
    current.src = imgs[currentImg + 1].src;
    imgTitle.innerHTML = imgs[currentImg + 1].title; 
    imgContent.innerHTML = imgs[currentImg + 1].textContent; 
    imgs.forEach(img => (img.style.opacity = 1));
    imgs[currentImg + 1 ].style.opacity = opacity; 
    current.classList.add("fade-in");
    currentImg ++;
    }
     
    leftButton.addEventListener('click', leftArrow);
    rightButton.addEventListener('click', rightArrow);
    
    imgs.forEach(img => img.addEventListener("click", imgClick));
    
    function imgClick(e) {
      // Reset the opacity
      imgs.forEach(img => (img.style.opacity = 1));
    
      // Change current image to src of clicked image
      current.src = e.target.src; 
      imgTitle.innerHTML = e.target.title;  
      imgContent.innerHTML = e.target.textContent;
      
      
      
    
      // Add fade in class
      current.classList.add("fade-in");
    
      // Remove fade-in class after .5 seconds
      setTimeout(() => current.classList.remove("fade-in"), 800);
    
      // Change the opacity to opacity var
      e.target.style.opacity = opacity;
    }
     
      </script> 
</body>
</html>