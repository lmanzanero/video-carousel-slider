<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Carousel Slider</title>
    <link rel="js" href="/main.js">
    <link rel="stylesheet" href="style.css">  
 </head>
 
<body >
    <div class="container"> 
        <div id="arrow-left" class="arrow">
          <img src="imgs/002-back.png" alt="left arrow">
        </div>
        <!-- <div id="carousel-arrow-left" class="carousel-arrow"></div> -->
        <div class="main-img">
          <iframe id="current"  src="https://player.vimeo.com/video/251587788?autoplay=1" frameborder="0"  mozallowfullscreen allowfullscreen></iframe>
            <!-- <div class="main-img-content">
                <h3 id="title">Hummingbird Arial Video Teaser</h3>
                <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
              <button class="button">Learn more</button>
            </div> -->
        </div>
      
        <div class="imgs" id="imgs-container">  
          <video src="https://player.vimeo.com/video/251587788?autoplay=1" poster="imgs/teaser.png" title="Hummingbird Arial Video Teaser"  frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </video> 
          <video src="https://player.vimeo.com/video/229508770?autoplay=1" poster="imgs/vaca-lake.png" title="Vaca Lake Tour - BucketList Belize"   frameborder="0" autoplay>
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </video> 
          <video src="https://www.youtube.com/embed/C5ITJ_nIFgQ?autoplay=1;modestbranding=1;autohide=1&amp;showinfo=0&amp;controls=0;" poster="https://img.youtube.com/vi/C5ITJ_nIFgQ/0.jpg" title="Design Recline's Online Permaculture Design Course"   frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </video>
          <video src="https://www.youtube.com/embed/Xbd9OLgT_uQ?autoplay=1;modestbranding=1;autohide=1&amp;showinfo=0&amp;controls=0;" poster="https://img.youtube.com/vi/Xbd9OLgT_uQ/0.jpg" title="Permaculture Made Easy - Brilliant Banana Circles"  frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </video>
          <video src="https://www.youtube.com/embed/qikO1_N-aWs?autoplay=1;modestbranding=1;autohide=1&amp;showinfo=0&amp;controls=0;" poster="https://img.youtube.com/vi/qikO1_N-aWs/0.jpg" title="Dynamo Comfrey- Permaculture Made Easy"   frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </video> 
        </div>
        <div id="arrow-right" class="arrow"> 
            <img src="imgs/001-next.png" alt="left arrow">
        </div>
        <!-- <div id="carousel-arrow-right" class="carousel-arrow"></div> -->
      </div> 
      <script>
      
      const current = document.querySelector("#current");  
      // const imgTitle = document.querySelector("#title");
      // const imgContent = document.querySelector("#content");
      const leftButton = document.querySelector('#arrow-left');
      const rightButton = document.querySelector('#arrow-right');
      // const scrollLeftArrow = document.querySelector('#carousel-arrow-left');
      // const scrollRightArrow = document.querySelector('#carousel-arrow-right');
      const imgs = document.querySelectorAll(".imgs video");
      const imgsContainer = document.querySelector("#imgs-container");
      const opacity = 0.4;
      console.log(imgs);
    
    // Set first img opacity
    imgs[0].style.opacity = opacity; 
    
    let currentImg = 0;

    function leftArrow(){
      if(currentImg === 0){
        currentImg = imgs.length;  
      }
      current.src = imgs[currentImg - 1].src;
      // imgTitle.innerHTML = imgs[currentImg - 1].title; 
      // imgContent.innerHTML = imgs[currentImg - 1].textContent; 
      imgs.forEach(img => (img.style.opacity = 1));
      imgs[currentImg - 1 ].style.opacity = opacity; 
      current.classList.add("fade-in");
      
    currentImg --;
    }

    function rightArrow(){ 
      if(currentImg === imgs.length - 1){
         currentImg = - 1; 
      }
    current.src = imgs[currentImg + 1].src;
    // imgTitle.innerHTML = imgs[currentImg + 1].title; 
    // imgContent.innerHTML = imgs[currentImg + 1].textContent; 
    imgs.forEach(img => (img.style.opacity = 1));
    imgs[currentImg + 1 ].style.opacity = opacity; 
    current.classList.add("fade-in");
    currentImg ++;
    }
     
    leftButton.addEventListener('click', leftArrow);
    rightButton.addEventListener('click', rightArrow);
    
    imgs.forEach(img => img.addEventListener("click", imgClick));
    
    function imgClick(e) {
      // Reset the opacity
      imgs.forEach(img => (img.style.opacity = 1));
    
      // Change current image to src of clicked image
      current.src = e.target.src; 
      // imgTitle.innerHTML = e.target.title;  
      // imgContent.innerHTML = e.target.textContent;
      
     
      
    
      // Add fade in class
      current.classList.add("fade-in");
    
      // Remove fade-in class after .5 seconds
      setTimeout(() => current.classList.remove("fade-in"), 800);
    
      // Change the opacity to opacity var
      e.target.style.opacity = opacity;
    }
 
    
    function changeVideoWidth() {
       
      function changeToFix() {
        imgsContainer.style.position = "fixed";
        function changeToRelative() {
          imgsContainer.style.position = "relative";
        }
        setTimeout(changeToRelative, 5000);
      }
      current.addEventListener('mouseover' , changeToFix);
      window.addEventListener('scroll', changeToFix);
    } 
     
     
     if(window.innerWidth > 1000){
       changeVideoWidth();
     }
     
      
      </script>  
    
</body>
</html>