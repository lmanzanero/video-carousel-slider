<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Carousel Slider</title>
    <link rel="js" href="/main.js">
    <link rel="stylesheet" href="style.css">
 </head>
<body>
    <div class="container">
        <div id="arrow-left" class="arrow"></div>
        <!-- <div id="carousel-arrow-left" class="carousel-arrow"></div> -->
        <div class="main-img">
          <iframe id="current" src="https://player.vimeo.com/video/251587788" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
            <div class="main-img-content">
                <h3 id="title">Hummingbird Arial Video Teaser</h3>
                <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
              <button class="button">Learn more</button>
            </div>
        </div>
      
        <div class="imgs" id="imgs-container"> 
          <iframe src="https://player.vimeo.com/video/251587788" title="Hummingbird Arial Video Teaser" width="400" height="110" frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </iframe>
          <iframe src="https://player.vimeo.com/video/229508770" title="Vaca Lake Tour - BucketList Belize" width="400" height="110" frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </iframe>
          <iframe src="https://www.youtube.com/embed/C5ITJ_nIFgQ?modestbranding=1;autohide=1&amp;showinfo=0&amp;controls=0;" title="Design Recline's Online Permaculture Design Course" width="400" height="110" frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </iframe>
          <iframe src="https://www.youtube.com/embed/Xbd9OLgT_uQ?modestbranding=1;autohide=1&amp;showinfo=0&amp;controls=0;" title="Permaculture Made Easy - Brilliant Banana Circles" width="400" height="110" frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </iframe>
          <iframe src="https://www.youtube.com/embed/qikO1_N-aWs?modestbranding=1;autohide=1&amp;showinfo=0&amp;controls=0;" imgUrl="https://img.youtube.com/vi/qikO1_N-aWs/0.jpg" title="Dynamo Comfrey- Permaculture Made Easy" width="400" height="110" frameborder="0">
            <p id="content">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Vel repellat asperiores beatae reprehenderit officia qui, magni, consectetur quaerat quidem sunt commodi reiciendis, aperiam laboriosam autem voluptates? In provident accusamus maiores?</p>
          </iframe> 
        </div>
        <div id="arrow-right" class="arrow"></div>
        <!-- <div id="carousel-arrow-right" class="carousel-arrow"></div> -->
      </div> 
      <script>
      
      const current = document.querySelector("#current"); 
      const imgTitle = document.querySelector("#title");
      const imgContent = document.querySelector("#content");
      const leftButton = document.querySelector('#arrow-left');
      const rightButton = document.querySelector('#arrow-right');
      const scrollLeftArrow = document.querySelector('#carousel-arrow-left');
      const scrollRightArrow = document.querySelector('#carousel-arrow-right');
      const imgs = document.querySelectorAll(".imgs iframe");
      const opacity = 0.4;
      console.log(imgs);
    
    // Set first img opacity
    imgs[0].style.opacity = opacity; 
    
    let currentImg = 0;

    function leftArrow(){
      if(currentImg === 0){
        currentImg = imgs.length;  
      }
      current.src = imgs[currentImg - 1].src;
      imgTitle.innerHTML = imgs[currentImg - 1].title; 
      imgContent.innerHTML = imgs[currentImg - 1].textContent; 
      imgs.forEach(img => (img.style.opacity = 1));
      imgs[currentImg - 1 ].style.opacity = opacity; 
      current.classList.add("fade-in");
      
    currentImg --;
    }

    function rightArrow(){ 
      if(currentImg === imgs.length - 1){
         currentImg = - 1; 
      }
    current.src = imgs[currentImg + 1].src;
    imgTitle.innerHTML = imgs[currentImg + 1].title; 
    imgContent.innerHTML = imgs[currentImg + 1].textContent; 
    imgs.forEach(img => (img.style.opacity = 1));
    imgs[currentImg + 1 ].style.opacity = opacity; 
    current.classList.add("fade-in");
    currentImg ++;
    }
     
    leftButton.addEventListener('click', leftArrow);
    rightButton.addEventListener('click', rightArrow);
    
    imgs.forEach(img => img.addEventListener("click", imgClick));
    
    function imgClick(e) {
      // Reset the opacity
      imgs.forEach(img => (img.style.opacity = 1));
    
      // Change current image to src of clicked image
      current.src = e.target.src; 
      imgTitle.innerHTML = e.target.title;  
      imgContent.innerHTML = e.target.textContent;
      
      
      
    
      // Add fade in class
      current.classList.add("fade-in");
    
      // Remove fade-in class after .5 seconds
      setTimeout(() => current.classList.remove("fade-in"), 800);
    
      // Change the opacity to opacity var
      e.target.style.opacity = opacity;
    }
     

    // function scrollRight() {
    //   document.getElementById("imgs-container").scrollLeft += 100;
    //  }

    // function scrollLeft() {
    //   document.getElementById("imgs-container").scrollLeft -= 100;
    //  }

    // scrollLeftArrow.addEventListener('click', scrollLeft);
    // scrollRightArrow.addEventListener('click', scrollRight);
     
      </script> 
</body>
</html>