<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
  <script>
    let player;
    let currentVideo = 'wKaaXzH8xsk'; 
    
 

    function onYouTubeIframeAPIReady(video) {
        console.log('iFrame Ready');
        player = new YT.Player('player', { // player param is dom element id
            videoId: currentVideo,
            height: '700px',
          width: '100%',
            playerVars: {
                controls: 0,
                rel: 0,
                showinfo: 0,
                modestbranding: true, // modestbranding conflicts with showinfo
                autoplay: 0
            },
            events: {
                'onReady': onPlayerReady,
                'onStateChange': onPlayerStateChange
            }
        });
    }
    function onPlayerReady(e) {
        console.log('ready');
        console.log(e);
        
        // // will autoplay
        // e.target.playVideo();
    }

    
    function onPlayerStateChange(e) {
        console.log('on state change');
    }
    function controlPlay() {
        player.playVideo();
    }
    function controlPause() {
        player.pauseVideo();
    }
    function controlMute() {
        player.mute();
    }
    function controlUnmute() {
        player.unMute();
    } 
    function changeVideo(el) { 
        player.loadVideoById(`${el.id}`);
    } 
  
    
</script>
<style>
  body {
    position: relative;
    margin: 0;
    padding: 0;
  }
   #video-container {
    /* position: relative;
	padding-bottom: 50%; 
	padding-top: 25px;
	height: 0; */
  }
#video-container iframe {
	position: fixed;
	/* top: 0;
	left: 0;
	width: 100%;
	height: 100%; */
}  


  .controllers {
    position: fixed; 
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    width: 100%;
    height: 40px;
    background-color: rgba(34, 33, 33, 0.1);
    align-content: center;
    text-align: center;
    z-index: 3000;
    left: 0;
    bottom: 0;
  }

  .controllers .control {
    opacity: 0.3;
  }

   .controllers .control:hover {
    opacity: 1;
  }

  

  .controllers:hover{
    background-color: rgba(34, 33, 33, 0.4);
  }

  .controllers .control {
    width: 50px;
    background: cadetblue;
    margin: 5px;
    padding: 5px;
    border-radius: 4px;
  }
  .controllers .control:hover {
    background-color: cyan; 
  }

  .video-carousel {
    position: fixed;
    display: none;
    overflow-x: scroll;
    overflow-y: hidden;
    white-space: nowrap;
    padding: 8px;
    z-index: 3000; 
    left: 3%;
    bottom: 7%;
    width:90%;
    height: 90px;
    background-color: rgba(34, 33, 33, 0.4);
    -webkit-overflow-scrolling: touch;
  } 
  .video-carousel::-webkit-scrollbar-track
{
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
	border-radius: 10px;
	background-color: rgb(150, 148, 148);
}

.video-carousel::-webkit-scrollbar
{
	width: 12px;
  height: 12px;
	background-color: rgb(150, 148, 148);
}

.video-carousel::-webkit-scrollbar-thumb
{
	border-radius: 10px;
	-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
	background-color: #555;
}
 

  .video-carousel .video {
    display: inline-block;
    min-width: 170px;
    height: 80px;
    margin-right: 5px;
    background-color: blue; 
  }
  .video-carousel .video img{
      width: 170px;
      height: 80px;
  }
</style>
</head>
<body>
  <div id="video-container">
      <div id="player"></div>
  </div>
  <div class="video-carousel">  

  </div>
   

  <div class="controllers">
      <div class="control play">Play</div>
      <div class="control pause">Pause</div>
      <div class="control mute">Mute</div>
      <div class="control unmute">Unmute</div>
  </div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.2.min.js"><\/script>')</script>
  
  <!-- can load this via ajax if you prefer -->
  <script src="https://www.youtube.com/iframe_api"></script>

  <script>
      
    const ApiKey = "AIzaSyBixjWBDyoxDLLzEyCENCBT_vOHWKl7oXk";
    const playlistId = "PL0e4x1yOeQGK3U4r2zRlDdT_OW4J1LaGu";
    const URL = "https://www.googleapis.com/youtube/v3/playlistItems"; 
    let carousel = document.querySelector('.video-carousel'); 
    // let play = document.querySelector('.play');
    // let pause =document.querySelector('.pause');

    // console.log(control);
    // control.addEventListener('click', (e) => e.preventDefault());
    // play.addEventListener('click', () => {
    //   controlPlay();
    //   carousel.style.display = "none";
    // });
      //Unnessary
      // $('.control').on('click', function(e){
      //      console.log(e.preventDefault());
      // });
      $('.control.play').on('click', function() {
          controlPlay();
          carousel.style.display = "none";
      });
      $('.control.pause').on('click', function() {
          controlPause();
          carousel.style.display = "block";
      });
      $('.control.mute').on('click', function() {
          controlMute();
      });
      $('.control.unmute').on('click', function() {
          controlUnmute();
      });
      console.log(carousel);
    
     
    var options = {
     part: 'snippet',
     key: ApiKey,
     maxResults: 20,
     playlistId: playlistId
 }

 loadVids();


 function loadVids() {
     $.getJSON(URL, options, function (data) { 
         $.each(data.items, function (i, item) {
             let thumb = item.snippet.thumbnails.medium.url;
             let title = item.snippet.title;
             let desc = item.snippet.description.substring(0, 100);
             let vid = item.snippet.resourceId.videoId;  
             console.log(thumb);
             
             carousel.innerHTML += `<div class="video" onclick="changeVideo(this)" id="${vid}"><img src="${thumb}"  alt="${desc}"/></div>`;
             });
     });
 }
 

   
  </script>
</body>
</html>